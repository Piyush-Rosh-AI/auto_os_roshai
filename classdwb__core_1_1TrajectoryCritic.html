<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Auto OS: dwb_core::TrajectoryCritic Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Auto OS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>dwb_core</b></li><li class="navelem"><a class="el" href="classdwb__core_1_1TrajectoryCritic.html">TrajectoryCritic</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classdwb__core_1_1TrajectoryCritic-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">dwb_core::TrajectoryCritic Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p>Evaluates a Trajectory2D to produce a score.  
 <a href="classdwb__core_1_1TrajectoryCritic.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="trajectory__critic_8hpp_source.html">trajectory_critic.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for dwb_core::TrajectoryCritic:</div>
<div class="dyncontent">
<div class="center"><img src="classdwb__core_1_1TrajectoryCritic__inherit__graph.png" border="0" usemap="#adwb__core_1_1TrajectoryCritic_inherit__map" alt="Inheritance graph"/></div>
<map name="adwb__core_1_1TrajectoryCritic_inherit__map" id="adwb__core_1_1TrajectoryCritic_inherit__map">
<area shape="rect" title="Evaluates a Trajectory2D to produce a score." alt="" coords="5,159,196,185"/>
<area shape="rect" href="classdwb__critics_1_1BaseObstacleCritic.html" title="Uses costmap 2d to assign negative costs if a circular robot would collide at any point of the trajec..." alt="" coords="245,5,437,45"/>
<area shape="rect" href="classdwb__critics_1_1MapGridCritic.html" title="breadth&#45;first scoring of all the cells in the costmap" alt="" coords="245,70,437,95"/>
<area shape="rect" href="classdwb__critics_1_1OscillationCritic.html" title="Checks to see whether the sign of the commanded velocity flips frequently." alt="" coords="255,120,427,160"/>
<area shape="rect" href="classdwb__critics_1_1PreferForwardCritic.html" title="Penalize trajectories with move backwards and/or turn too much." alt="" coords="244,184,439,224"/>
<area shape="rect" href="classdwb__critics_1_1RotateToGoalCritic.html" title="Forces the commanded trajectories to only be rotations if within a certain distance window." alt="" coords="246,248,437,288"/>
<area shape="rect" href="classdwb__critics_1_1TwirlingCritic.html" title="Penalize trajectories with rotational velocities." alt="" coords="248,313,435,338"/>
<area shape="rect" href="classdwb__critics_1_1ObstacleFootprintCritic.html" title="Uses costmap 2d to assign negative costs if robot footprint is in obstacle on any point of the trajec..." alt="" coords="487,5,705,45"/>
<area shape="rect" href="classOpenObstacleFootprintCritic.html" title=" " alt="" coords="753,13,959,38"/>
<area shape="rect" href="classdwb__critics_1_1GoalDistCritic.html" title="Scores trajectories based on how far along the global path they end up." alt="" coords="499,70,693,95"/>
<area shape="rect" href="classdwb__critics_1_1PathDistCritic.html" title="Scores trajectories based on how far from the global path they end up." alt="" coords="501,119,691,145"/>
<area shape="rect" href="classdwb__critics_1_1GoalAlignCritic.html" title="Scores trajectories based on whether the robot ends up pointing toward the eventual goal." alt="" coords="756,70,956,95"/>
<area shape="rect" href="classdwb__critics_1_1PathAlignCritic.html" title="Scores trajectories based on how far from the global path the front of the robot ends up." alt="" coords="757,119,955,145"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for dwb_core::TrajectoryCritic:</div>
<div class="dyncontent">
<div class="center"><img src="classdwb__core_1_1TrajectoryCritic__coll__graph.png" border="0" usemap="#adwb__core_1_1TrajectoryCritic_coll__map" alt="Collaboration graph"/></div>
<map name="adwb__core_1_1TrajectoryCritic_coll__map" id="adwb__core_1_1TrajectoryCritic_coll__map">
<area shape="rect" title="Evaluates a Trajectory2D to produce a score." alt="" coords="5,108,196,133"/>
<area shape="rect" title=" " alt="" coords="71,5,130,31"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a089879d4a4f494deb96350bc1c3c3327"><td class="memItemLeft" align="right" valign="top"><a id="a089879d4a4f494deb96350bc1c3c3327" name="a089879d4a4f494deb96350bc1c3c3327"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>Ptr</b> = std::shared_ptr&lt; <a class="el" href="classdwb__core_1_1TrajectoryCritic.html">dwb_core::TrajectoryCritic</a> &gt;</td></tr>
<tr class="separator:a089879d4a4f494deb96350bc1c3c3327"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af6fce4ceee2a2f7cccf24d823a72545f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__core_1_1TrajectoryCritic.html#af6fce4ceee2a2f7cccf24d823a72545f">initialize</a> (const nav2_util::LifecycleNode::SharedPtr &amp;nh, const std::string &amp;name, const std::string &amp;ns, std::shared_ptr&lt; <a class="el" href="classnav2__costmap__2d_1_1Costmap2DROS.html">nav2_costmap_2d::Costmap2DROS</a> &gt; costmap_ros)</td></tr>
<tr class="memdesc:af6fce4ceee2a2f7cccf24d823a72545f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the critic with appropriate pointers and parameters.  <br /></td></tr>
<tr class="separator:af6fce4ceee2a2f7cccf24d823a72545f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af95ddfbb974211b4e1b3f58fc0687e56"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__core_1_1TrajectoryCritic.html#af95ddfbb974211b4e1b3f58fc0687e56">onInit</a> ()</td></tr>
<tr class="separator:af95ddfbb974211b4e1b3f58fc0687e56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76bf50ae6acdf57634cfd7cb089d6197"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__core_1_1TrajectoryCritic.html#a76bf50ae6acdf57634cfd7cb089d6197">reset</a> ()</td></tr>
<tr class="memdesc:a76bf50ae6acdf57634cfd7cb089d6197"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the state of the critic.  <br /></td></tr>
<tr class="separator:a76bf50ae6acdf57634cfd7cb089d6197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15e9e3b61af2785542957cced1592529"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__core_1_1TrajectoryCritic.html#a15e9e3b61af2785542957cced1592529">prepare</a> (const geometry_msgs::msg::Pose2D &amp;, const nav_2d_msgs::msg::Twist2D &amp;, const geometry_msgs::msg::Pose2D &amp;, const nav_2d_msgs::msg::Path2D &amp;)</td></tr>
<tr class="memdesc:a15e9e3b61af2785542957cced1592529"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prior to evaluating any trajectories, look at contextual information constant across all trajectories.  <br /></td></tr>
<tr class="separator:a15e9e3b61af2785542957cced1592529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32b48699795843f210b72f1dbe35efc6"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__core_1_1TrajectoryCritic.html#a32b48699795843f210b72f1dbe35efc6">scoreTrajectory</a> (const dwb_msgs::msg::Trajectory2D &amp;traj)=0</td></tr>
<tr class="memdesc:a32b48699795843f210b72f1dbe35efc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a raw score for the given trajectory.  <br /></td></tr>
<tr class="separator:a32b48699795843f210b72f1dbe35efc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa04dcaf28eda5e746172026d0475a2b3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__core_1_1TrajectoryCritic.html#aa04dcaf28eda5e746172026d0475a2b3">debrief</a> (const nav_2d_msgs::msg::Twist2D &amp;)</td></tr>
<tr class="memdesc:aa04dcaf28eda5e746172026d0475a2b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">debrief informs the critic what the chosen cmd_vel was (if it cares)  <br /></td></tr>
<tr class="separator:aa04dcaf28eda5e746172026d0475a2b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b6dba2ee735fc394449547d7255a22d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__core_1_1TrajectoryCritic.html#a8b6dba2ee735fc394449547d7255a22d">addCriticVisualization</a> (std::vector&lt; std::pair&lt; std::string, std::vector&lt; float &gt; &gt; &gt; &amp;)</td></tr>
<tr class="memdesc:a8b6dba2ee735fc394449547d7255a22d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add information to the given pointcloud for debugging costmap-grid based scores.  <br /></td></tr>
<tr class="separator:a8b6dba2ee735fc394449547d7255a22d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e6f75f59dae1fbbb5f4abaa23494285"><td class="memItemLeft" align="right" valign="top"><a id="a5e6f75f59dae1fbbb5f4abaa23494285" name="a5e6f75f59dae1fbbb5f4abaa23494285"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getName</b> ()</td></tr>
<tr class="separator:a5e6f75f59dae1fbbb5f4abaa23494285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18601757c2f75f936e110f69abca9f3c"><td class="memItemLeft" align="right" valign="top"><a id="a18601757c2f75f936e110f69abca9f3c" name="a18601757c2f75f936e110f69abca9f3c"></a>
virtual double&#160;</td><td class="memItemRight" valign="bottom"><b>getScale</b> () const</td></tr>
<tr class="separator:a18601757c2f75f936e110f69abca9f3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a6c9a173b58b31cdf8c1486f201f5de"><td class="memItemLeft" align="right" valign="top"><a id="a1a6c9a173b58b31cdf8c1486f201f5de" name="a1a6c9a173b58b31cdf8c1486f201f5de"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setScale</b> (const double scale)</td></tr>
<tr class="separator:a1a6c9a173b58b31cdf8c1486f201f5de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a57f1789a23a61ac4b099efb09e43dd4e"><td class="memItemLeft" align="right" valign="top"><a id="a57f1789a23a61ac4b099efb09e43dd4e" name="a57f1789a23a61ac4b099efb09e43dd4e"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>name_</b></td></tr>
<tr class="separator:a57f1789a23a61ac4b099efb09e43dd4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae62b2d03deb299ddd1648ddc4357b9c1"><td class="memItemLeft" align="right" valign="top"><a id="ae62b2d03deb299ddd1648ddc4357b9c1" name="ae62b2d03deb299ddd1648ddc4357b9c1"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>dwb_plugin_name_</b></td></tr>
<tr class="separator:ae62b2d03deb299ddd1648ddc4357b9c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12f0729fb83bb0075b675e3dd67e3544"><td class="memItemLeft" align="right" valign="top"><a id="a12f0729fb83bb0075b675e3dd67e3544" name="a12f0729fb83bb0075b675e3dd67e3544"></a>
std::shared_ptr&lt; <a class="el" href="classnav2__costmap__2d_1_1Costmap2DROS.html">nav2_costmap_2d::Costmap2DROS</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>costmap_ros_</b></td></tr>
<tr class="separator:a12f0729fb83bb0075b675e3dd67e3544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2354066bb35712a5a7c762c37aa3988a"><td class="memItemLeft" align="right" valign="top"><a id="a2354066bb35712a5a7c762c37aa3988a" name="a2354066bb35712a5a7c762c37aa3988a"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>scale_</b></td></tr>
<tr class="separator:a2354066bb35712a5a7c762c37aa3988a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f61b9ff8cc03b9e7301b7c3bd80b625"><td class="memItemLeft" align="right" valign="top"><a id="a8f61b9ff8cc03b9e7301b7c3bd80b625" name="a8f61b9ff8cc03b9e7301b7c3bd80b625"></a>
rclcpp_lifecycle::LifecycleNode::WeakPtr&#160;</td><td class="memItemRight" valign="bottom"><b>node_</b></td></tr>
<tr class="separator:a8f61b9ff8cc03b9e7301b7c3bd80b625"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Evaluates a Trajectory2D to produce a score. </p>
<p>This class defines the plugin interface for the <a class="el" href="classdwb__core_1_1TrajectoryCritic.html" title="Evaluates a Trajectory2D to produce a score.">TrajectoryCritic</a> which gives scores to trajectories, where lower numbers are better, but negative scores are considered invalid.</p>
<p>The general lifecycle is 1) initialize is called once at the beginning which in turn calls onInit. Derived classes may override onInit to load parameters as needed. 2) prepare is called once before each set of trajectories. It is presumed that there are multiple trajectories that we want to evaluate, and there may be some shared work that can be done beforehand to optimize the scoring of each individual trajectory. 3) scoreTrajectory is called once per trajectory and returns the score. 4) debrief is called after each set of trajectories with the chosen trajectory. This can be used for stateful critics that monitor the trajectory through time.</p>
<p>Optionally, there is also a debugging mechanism for certain types of critics in the addCriticVisualization method. If the score for a trajectory depends on its relationship to the costmap, addCriticVisualization can provide that information to the dwb_core which will publish the grid scores as a PointCloud2. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a8b6dba2ee735fc394449547d7255a22d" name="a8b6dba2ee735fc394449547d7255a22d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b6dba2ee735fc394449547d7255a22d">&#9670;&#160;</a></span>addCriticVisualization()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void dwb_core::TrajectoryCritic::addCriticVisualization </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::pair&lt; std::string, std::vector&lt; float &gt; &gt; &gt; &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add information to the given pointcloud for debugging costmap-grid based scores. </p>
<p>addCriticVisualization is an optional debugging mechanism for providing rich information about the cost for certain trajectories. Some critics will have scoring mechanisms wherein there will be some score for each cell in the costmap. This could be as straightforward as the cost in the costmap, or it could be the number of cells away from the goal pose.</p>
<p>Prior to calling this, dwb_core will load the PointCloud's header and the points in row-major order. The critic may then add a ChannelFloat to the channels member of the PC with the same number of values as the points array. This information may then be converted and published as a PointCloud2.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pc</td><td>PointCloud to add channels to </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classdwb__critics_1_1BaseObstacleCritic.html#a0b8adc031cf09f47543ccb325fa045e8">dwb_critics::BaseObstacleCritic</a>, and <a class="el" href="classdwb__critics_1_1MapGridCritic.html#a27a127aa202c0aa74bd5d7af253b7d97">dwb_critics::MapGridCritic</a>.</p>

</div>
</div>
<a id="aa04dcaf28eda5e746172026d0475a2b3" name="aa04dcaf28eda5e746172026d0475a2b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa04dcaf28eda5e746172026d0475a2b3">&#9670;&#160;</a></span>debrief()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void dwb_core::TrajectoryCritic::debrief </td>
          <td>(</td>
          <td class="paramtype">const nav_2d_msgs::msg::Twist2D &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>debrief informs the critic what the chosen cmd_vel was (if it cares) </p>

<p>Reimplemented in <a class="el" href="classdwb__critics_1_1OscillationCritic.html#a3d4bd135baeb1efc5c671df984000a36">dwb_critics::OscillationCritic</a>.</p>

</div>
</div>
<a id="af6fce4ceee2a2f7cccf24d823a72545f" name="af6fce4ceee2a2f7cccf24d823a72545f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6fce4ceee2a2f7cccf24d823a72545f">&#9670;&#160;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dwb_core::TrajectoryCritic::initialize </td>
          <td>(</td>
          <td class="paramtype">const nav2_util::LifecycleNode::SharedPtr &amp;&#160;</td>
          <td class="paramname"><em>nh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classnav2__costmap__2d_1_1Costmap2DROS.html">nav2_costmap_2d::Costmap2DROS</a> &gt;&#160;</td>
          <td class="paramname"><em>costmap_ros</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the critic with appropriate pointers and parameters. </p>
<p>The name and costmap are stored as member variables. <a class="el" href="classA.html">A</a> NodeHandle is created using the combination of the parent namespace and the critic name</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of this critic </td></tr>
    <tr><td class="paramname">parent_namespace</td><td>The namespace of the planner </td></tr>
    <tr><td class="paramname">costmap_ros</td><td>Pointer to the costmap </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af95ddfbb974211b4e1b3f58fc0687e56" name="af95ddfbb974211b4e1b3f58fc0687e56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af95ddfbb974211b4e1b3f58fc0687e56">&#9670;&#160;</a></span>onInit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void dwb_core::TrajectoryCritic::onInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="classdwb__critics_1_1OscillationCritic.html#acfd0bada79df6c143a36c869af827bcd">dwb_critics::OscillationCritic</a>.</p>

</div>
</div>
<a id="a15e9e3b61af2785542957cced1592529" name="a15e9e3b61af2785542957cced1592529"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15e9e3b61af2785542957cced1592529">&#9670;&#160;</a></span>prepare()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool dwb_core::TrajectoryCritic::prepare </td>
          <td>(</td>
          <td class="paramtype">const geometry_msgs::msg::Pose2D &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const nav_2d_msgs::msg::Twist2D &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const geometry_msgs::msg::Pose2D &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const nav_2d_msgs::msg::Path2D &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prior to evaluating any trajectories, look at contextual information constant across all trajectories. </p>
<p>Subclasses may overwrite. Return false in case there is any error.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pose</td><td>Current pose (costmap frame) </td></tr>
    <tr><td class="paramname">vel</td><td>Current velocity </td></tr>
    <tr><td class="paramname">goal</td><td>The final goal (costmap frame) </td></tr>
    <tr><td class="paramname">global_plan</td><td>Transformed global plan in costmap frame, possibly cropped to nearby points </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented in <a class="el" href="classdwb__critics_1_1GoalAlignCritic.html#aaf077340b3158513043c6fb92db0c34f">dwb_critics::GoalAlignCritic</a>, <a class="el" href="classdwb__critics_1_1GoalDistCritic.html#a9881737bb31c83a24fd046a8ed1adf20">dwb_critics::GoalDistCritic</a>, <a class="el" href="classdwb__critics_1_1ObstacleFootprintCritic.html#a2f257e02c98316095521b2e83b8bdf88">dwb_critics::ObstacleFootprintCritic</a>, <a class="el" href="classdwb__critics_1_1OscillationCritic.html#aad5e0f8cef6c800857e86b26f31e9f19">dwb_critics::OscillationCritic</a>, <a class="el" href="classdwb__critics_1_1PathAlignCritic.html#ad60d46df41d085fbd05510f8c9b9d4a7">dwb_critics::PathAlignCritic</a>, <a class="el" href="classdwb__critics_1_1PathDistCritic.html#ac9ea2a8eaae8fca6a8b151f9eaf20c8d">dwb_critics::PathDistCritic</a>, and <a class="el" href="classdwb__critics_1_1RotateToGoalCritic.html#a95c2443f44af50578b3d04fd4c7b7e3c">dwb_critics::RotateToGoalCritic</a>.</p>

</div>
</div>
<a id="a76bf50ae6acdf57634cfd7cb089d6197" name="a76bf50ae6acdf57634cfd7cb089d6197"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76bf50ae6acdf57634cfd7cb089d6197">&#9670;&#160;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void dwb_core::TrajectoryCritic::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset the state of the critic. </p>
<p>Reset is called when the planner receives a new global plan. This can be used to discard information specific to one plan. </p>

<p>Reimplemented in <a class="el" href="classdwb__critics_1_1MapGridCritic.html#a2557ba65b34018dcaf2c2c875e1f2fff">dwb_critics::MapGridCritic</a>, <a class="el" href="classdwb__critics_1_1OscillationCritic.html#ae915171108e0090f129032b38efc58eb">dwb_critics::OscillationCritic</a>, and <a class="el" href="classdwb__critics_1_1RotateToGoalCritic.html#a70632f7cd978e4b59ace51446228302f">dwb_critics::RotateToGoalCritic</a>.</p>

</div>
</div>
<a id="a32b48699795843f210b72f1dbe35efc6" name="a32b48699795843f210b72f1dbe35efc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32b48699795843f210b72f1dbe35efc6">&#9670;&#160;</a></span>scoreTrajectory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual double dwb_core::TrajectoryCritic::scoreTrajectory </td>
          <td>(</td>
          <td class="paramtype">const dwb_msgs::msg::Trajectory2D &amp;&#160;</td>
          <td class="paramname"><em>traj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a raw score for the given trajectory. </p>
<p>scores &lt; 0 are considered invalid/errors, such as collisions This is the raw score in that the scale should not be applied to it. </p>

<p>Implemented in <a class="el" href="classdwb__critics_1_1BaseObstacleCritic.html#a1118a56a2fd6320424cf45b421c20faa">dwb_critics::BaseObstacleCritic</a>, <a class="el" href="classdwb__critics_1_1MapGridCritic.html#a06d0020c361c1d6dbcf7c91042e78c96">dwb_critics::MapGridCritic</a>, <a class="el" href="classdwb__critics_1_1OscillationCritic.html#ad9b5c0c01e42d687d9260cfae6486496">dwb_critics::OscillationCritic</a>, <a class="el" href="classdwb__critics_1_1PreferForwardCritic.html#a6f0f524efa2b74f789c2532cd48d873f">dwb_critics::PreferForwardCritic</a>, <a class="el" href="classdwb__critics_1_1RotateToGoalCritic.html#a7debded5bbc2f160cecfdc0bdbbd2d50">dwb_critics::RotateToGoalCritic</a>, and <a class="el" href="classdwb__critics_1_1TwirlingCritic.html#a4e5083ad7fe498d1abb3adf40bf0cc64">dwb_critics::TwirlingCritic</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>nav2_pkgs/nav2_dwb_controller/dwb_core/include/dwb_core/<a class="el" href="trajectory__critic_8hpp_source.html">trajectory_critic.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
