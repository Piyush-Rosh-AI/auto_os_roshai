<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Auto OS: dwb_critics::MapGridCritic Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Auto OS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>dwb_critics</b></li><li class="navelem"><a class="el" href="classdwb__critics_1_1MapGridCritic.html">MapGridCritic</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-types">Protected Types</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classdwb__critics_1_1MapGridCritic-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">dwb_critics::MapGridCritic Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>breadth-first scoring of all the cells in the costmap  
 <a href="classdwb__critics_1_1MapGridCritic.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="map__grid_8hpp_source.html">map_grid.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for dwb_critics::MapGridCritic:</div>
<div class="dyncontent">
<div class="center"><img src="classdwb__critics_1_1MapGridCritic__inherit__graph.png" border="0" usemap="#adwb__critics_1_1MapGridCritic_inherit__map" alt="Inheritance graph"/></div>
<map name="adwb__critics_1_1MapGridCritic_inherit__map" id="adwb__critics_1_1MapGridCritic_inherit__map">
<area shape="rect" title="breadth&#45;first scoring of all the cells in the costmap" alt="" coords="120,79,312,104"/>
<area shape="rect" href="classdwb__critics_1_1GoalDistCritic.html" title="Scores trajectories based on how far along the global path they end up." alt="" coords="11,152,205,177"/>
<area shape="rect" href="classdwb__critics_1_1PathDistCritic.html" title="Scores trajectories based on how far from the global path they end up." alt="" coords="230,152,421,177"/>
<area shape="rect" href="classdwb__core_1_1TrajectoryCritic.html" title="Evaluates a Trajectory2D to produce a score." alt="" coords="121,5,311,31"/>
<area shape="rect" href="classdwb__critics_1_1GoalAlignCritic.html" title="Scores trajectories based on whether the robot ends up pointing toward the eventual goal." alt="" coords="5,225,205,251"/>
<area shape="rect" href="classdwb__critics_1_1PathAlignCritic.html" title="Scores trajectories based on how far from the global path the front of the robot ends up." alt="" coords="229,225,427,251"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for dwb_critics::MapGridCritic:</div>
<div class="dyncontent">
<div class="center"><img src="classdwb__critics_1_1MapGridCritic__coll__graph.png" border="0" usemap="#adwb__critics_1_1MapGridCritic_coll__map" alt="Collaboration graph"/></div>
<map name="adwb__critics_1_1MapGridCritic_coll__map" id="adwb__critics_1_1MapGridCritic_coll__map">
<area shape="rect" title="breadth&#45;first scoring of all the cells in the costmap" alt="" coords="121,196,313,221"/>
<area shape="rect" href="classdwb__core_1_1TrajectoryCritic.html" title="Evaluates a Trajectory2D to produce a score." alt="" coords="5,108,196,133"/>
<area shape="rect" title=" " alt="" coords="71,5,130,31"/>
<area shape="rect" href="classnav2__costmap__2d_1_1Costmap2D.html" title="A 2D costmap provides a mapping between points in the world and their associated &quot;costs&quot;." alt="" coords="221,108,445,133"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__critics_1_1MapGridCritic_1_1MapGridQueue.html">MapGridQueue</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subclass of CostmapQueue that avoids Obstacles and Unknown Values.  <a href="classdwb__critics_1_1MapGridCritic_1_1MapGridQueue.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5e876730c93c6c1d25928fe3aad1fc4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__critics_1_1MapGridCritic.html#a5e876730c93c6c1d25928fe3aad1fc4a">onInit</a> () override</td></tr>
<tr class="separator:a5e876730c93c6c1d25928fe3aad1fc4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06d0020c361c1d6dbcf7c91042e78c96"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__critics_1_1MapGridCritic.html#a06d0020c361c1d6dbcf7c91042e78c96">scoreTrajectory</a> (const dwb_msgs::msg::Trajectory2D &amp;traj) override</td></tr>
<tr class="memdesc:a06d0020c361c1d6dbcf7c91042e78c96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a raw score for the given trajectory.  <br /></td></tr>
<tr class="separator:a06d0020c361c1d6dbcf7c91042e78c96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27a127aa202c0aa74bd5d7af253b7d97"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__critics_1_1MapGridCritic.html#a27a127aa202c0aa74bd5d7af253b7d97">addCriticVisualization</a> (std::vector&lt; std::pair&lt; std::string, std::vector&lt; float &gt; &gt; &gt; &amp;cost_channels) override</td></tr>
<tr class="memdesc:a27a127aa202c0aa74bd5d7af253b7d97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add information to the given pointcloud for debugging costmap-grid based scores.  <br /></td></tr>
<tr class="separator:a27a127aa202c0aa74bd5d7af253b7d97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a775e2b988fc7c65e151598db393ced14"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__critics_1_1MapGridCritic.html#a775e2b988fc7c65e151598db393ced14">getScale</a> () const override</td></tr>
<tr class="separator:a775e2b988fc7c65e151598db393ced14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38c53edc94bd2cd1dba4dc4dc00cc976"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__critics_1_1MapGridCritic.html#a38c53edc94bd2cd1dba4dc4dc00cc976">scorePose</a> (const geometry_msgs::msg::Pose2D &amp;pose)</td></tr>
<tr class="memdesc:a38c53edc94bd2cd1dba4dc4dc00cc976"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the score for a single pose.  <br /></td></tr>
<tr class="separator:a38c53edc94bd2cd1dba4dc4dc00cc976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a4b72849b5cfd098cc68cfd6a67ee4c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__critics_1_1MapGridCritic.html#a8a4b72849b5cfd098cc68cfd6a67ee4c">getScore</a> (unsigned int x, unsigned int y)</td></tr>
<tr class="memdesc:a8a4b72849b5cfd098cc68cfd6a67ee4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the score for a particular cell of the costmap.  <br /></td></tr>
<tr class="separator:a8a4b72849b5cfd098cc68cfd6a67ee4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a3fb8a48ed83895a0ac1bf1fa33bd32"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__critics_1_1MapGridCritic.html#a5a3fb8a48ed83895a0ac1bf1fa33bd32">setAsObstacle</a> (unsigned int index)</td></tr>
<tr class="memdesc:a5a3fb8a48ed83895a0ac1bf1fa33bd32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the score of a particular cell to the obstacle cost.  <br /></td></tr>
<tr class="separator:a5a3fb8a48ed83895a0ac1bf1fa33bd32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classdwb__core_1_1TrajectoryCritic"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classdwb__core_1_1TrajectoryCritic')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classdwb__core_1_1TrajectoryCritic.html">dwb_core::TrajectoryCritic</a></td></tr>
<tr class="memitem:af6fce4ceee2a2f7cccf24d823a72545f inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__core_1_1TrajectoryCritic.html#af6fce4ceee2a2f7cccf24d823a72545f">initialize</a> (const nav2_util::LifecycleNode::SharedPtr &amp;nh, const std::string &amp;name, const std::string &amp;ns, std::shared_ptr&lt; <a class="el" href="classnav2__costmap__2d_1_1Costmap2DROS.html">nav2_costmap_2d::Costmap2DROS</a> &gt; costmap_ros)</td></tr>
<tr class="memdesc:af6fce4ceee2a2f7cccf24d823a72545f inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the critic with appropriate pointers and parameters.  <br /></td></tr>
<tr class="separator:af6fce4ceee2a2f7cccf24d823a72545f inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af95ddfbb974211b4e1b3f58fc0687e56 inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__core_1_1TrajectoryCritic.html#af95ddfbb974211b4e1b3f58fc0687e56">onInit</a> ()</td></tr>
<tr class="separator:af95ddfbb974211b4e1b3f58fc0687e56 inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76bf50ae6acdf57634cfd7cb089d6197 inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__core_1_1TrajectoryCritic.html#a76bf50ae6acdf57634cfd7cb089d6197">reset</a> ()</td></tr>
<tr class="memdesc:a76bf50ae6acdf57634cfd7cb089d6197 inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the state of the critic.  <br /></td></tr>
<tr class="separator:a76bf50ae6acdf57634cfd7cb089d6197 inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15e9e3b61af2785542957cced1592529 inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__core_1_1TrajectoryCritic.html#a15e9e3b61af2785542957cced1592529">prepare</a> (const geometry_msgs::msg::Pose2D &amp;, const nav_2d_msgs::msg::Twist2D &amp;, const geometry_msgs::msg::Pose2D &amp;, const nav_2d_msgs::msg::Path2D &amp;)</td></tr>
<tr class="memdesc:a15e9e3b61af2785542957cced1592529 inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prior to evaluating any trajectories, look at contextual information constant across all trajectories.  <br /></td></tr>
<tr class="separator:a15e9e3b61af2785542957cced1592529 inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32b48699795843f210b72f1dbe35efc6 inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__core_1_1TrajectoryCritic.html#a32b48699795843f210b72f1dbe35efc6">scoreTrajectory</a> (const dwb_msgs::msg::Trajectory2D &amp;traj)=0</td></tr>
<tr class="memdesc:a32b48699795843f210b72f1dbe35efc6 inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a raw score for the given trajectory.  <br /></td></tr>
<tr class="separator:a32b48699795843f210b72f1dbe35efc6 inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa04dcaf28eda5e746172026d0475a2b3 inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__core_1_1TrajectoryCritic.html#aa04dcaf28eda5e746172026d0475a2b3">debrief</a> (const nav_2d_msgs::msg::Twist2D &amp;)</td></tr>
<tr class="memdesc:aa04dcaf28eda5e746172026d0475a2b3 inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="mdescLeft">&#160;</td><td class="mdescRight">debrief informs the critic what the chosen cmd_vel was (if it cares)  <br /></td></tr>
<tr class="separator:aa04dcaf28eda5e746172026d0475a2b3 inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b6dba2ee735fc394449547d7255a22d inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__core_1_1TrajectoryCritic.html#a8b6dba2ee735fc394449547d7255a22d">addCriticVisualization</a> (std::vector&lt; std::pair&lt; std::string, std::vector&lt; float &gt; &gt; &gt; &amp;)</td></tr>
<tr class="memdesc:a8b6dba2ee735fc394449547d7255a22d inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add information to the given pointcloud for debugging costmap-grid based scores.  <br /></td></tr>
<tr class="separator:a8b6dba2ee735fc394449547d7255a22d inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e6f75f59dae1fbbb5f4abaa23494285 inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memItemLeft" align="right" valign="top"><a id="a5e6f75f59dae1fbbb5f4abaa23494285" name="a5e6f75f59dae1fbbb5f4abaa23494285"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>getName</b> ()</td></tr>
<tr class="separator:a5e6f75f59dae1fbbb5f4abaa23494285 inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18601757c2f75f936e110f69abca9f3c inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memItemLeft" align="right" valign="top"><a id="a18601757c2f75f936e110f69abca9f3c" name="a18601757c2f75f936e110f69abca9f3c"></a>
virtual double&#160;</td><td class="memItemRight" valign="bottom"><b>getScale</b> () const</td></tr>
<tr class="separator:a18601757c2f75f936e110f69abca9f3c inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a6c9a173b58b31cdf8c1486f201f5de inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memItemLeft" align="right" valign="top"><a id="a1a6c9a173b58b31cdf8c1486f201f5de" name="a1a6c9a173b58b31cdf8c1486f201f5de"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setScale</b> (const double scale)</td></tr>
<tr class="separator:a1a6c9a173b58b31cdf8c1486f201f5de inherit pub_methods_classdwb__core_1_1TrajectoryCritic"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-types" name="pro-types"></a>
Protected Types</h2></td></tr>
<tr class="memitem:a12e0b17353f643bf3d92f120bd21cc53"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__critics_1_1MapGridCritic.html#a12e0b17353f643bf3d92f120bd21cc53">ScoreAggregationType</a> { <b>Last</b>
, <b>Sum</b>
, <b>Product</b>
 }</td></tr>
<tr class="memdesc:a12e0b17353f643bf3d92f120bd21cc53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Separate modes for aggregating scores across the multiple poses in a trajectory.  <a href="classdwb__critics_1_1MapGridCritic.html#a12e0b17353f643bf3d92f120bd21cc53">More...</a><br /></td></tr>
<tr class="separator:a12e0b17353f643bf3d92f120bd21cc53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a2557ba65b34018dcaf2c2c875e1f2fff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdwb__critics_1_1MapGridCritic.html#a2557ba65b34018dcaf2c2c875e1f2fff">reset</a> () override</td></tr>
<tr class="memdesc:a2557ba65b34018dcaf2c2c875e1f2fff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clear the queuDWB_CRITICS_MAP_GRID_He and set cell_values_ to the appropriate number of unreachableCellScore.  <br /></td></tr>
<tr class="separator:a2557ba65b34018dcaf2c2c875e1f2fff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aa45d2e8b4a72bbf6de479106e9dea3"><td class="memItemLeft" align="right" valign="top"><a id="a6aa45d2e8b4a72bbf6de479106e9dea3" name="a6aa45d2e8b4a72bbf6de479106e9dea3"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>propogateManhattanDistances</b> ()</td></tr>
<tr class="memdesc:a6aa45d2e8b4a72bbf6de479106e9dea3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Go through the queue and set the cells to the Manhattan distance from their parents. <br /></td></tr>
<tr class="separator:a6aa45d2e8b4a72bbf6de479106e9dea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a1f39564e7483b4e53fe76f4a052b7905"><td class="memItemLeft" align="right" valign="top"><a id="a1f39564e7483b4e53fe76f4a052b7905" name="a1f39564e7483b4e53fe76f4a052b7905"></a>
std::shared_ptr&lt; <a class="el" href="classdwb__critics_1_1MapGridCritic_1_1MapGridQueue.html">MapGridQueue</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>queue_</b></td></tr>
<tr class="separator:a1f39564e7483b4e53fe76f4a052b7905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55d065fab73dde181020f68a5ae415af"><td class="memItemLeft" align="right" valign="top"><a id="a55d065fab73dde181020f68a5ae415af" name="a55d065fab73dde181020f68a5ae415af"></a>
<a class="el" href="classnav2__costmap__2d_1_1Costmap2D.html">nav2_costmap_2d::Costmap2D</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>costmap_</b></td></tr>
<tr class="separator:a55d065fab73dde181020f68a5ae415af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7b270835821e69cc54ac771be127454"><td class="memItemLeft" align="right" valign="top"><a id="ad7b270835821e69cc54ac771be127454" name="ad7b270835821e69cc54ac771be127454"></a>
std::vector&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>cell_values_</b></td></tr>
<tr class="separator:ad7b270835821e69cc54ac771be127454"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7724cadb1d1e61475ce77f40ad02b459"><td class="memItemLeft" align="right" valign="top"><a id="a7724cadb1d1e61475ce77f40ad02b459" name="a7724cadb1d1e61475ce77f40ad02b459"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>obstacle_score_</b></td></tr>
<tr class="separator:a7724cadb1d1e61475ce77f40ad02b459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3994c24a5e1e09bce58ec20cbf622b8"><td class="memItemLeft" align="right" valign="top"><a id="aa3994c24a5e1e09bce58ec20cbf622b8" name="aa3994c24a5e1e09bce58ec20cbf622b8"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>unreachable_score_</b></td></tr>
<tr class="memdesc:aa3994c24a5e1e09bce58ec20cbf622b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Special cell_values. <br /></td></tr>
<tr class="separator:aa3994c24a5e1e09bce58ec20cbf622b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58f1ef3dfdc9c160259b9848d5ec6b3d"><td class="memItemLeft" align="right" valign="top"><a id="a58f1ef3dfdc9c160259b9848d5ec6b3d" name="a58f1ef3dfdc9c160259b9848d5ec6b3d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>stop_on_failure_</b></td></tr>
<tr class="separator:a58f1ef3dfdc9c160259b9848d5ec6b3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae271783cf506a2d6fb2b376272aa1ce6"><td class="memItemLeft" align="right" valign="top"><a id="ae271783cf506a2d6fb2b376272aa1ce6" name="ae271783cf506a2d6fb2b376272aa1ce6"></a>
<a class="el" href="classdwb__critics_1_1MapGridCritic.html#a12e0b17353f643bf3d92f120bd21cc53">ScoreAggregationType</a>&#160;</td><td class="memItemRight" valign="bottom"><b>aggregationType_</b></td></tr>
<tr class="separator:ae271783cf506a2d6fb2b376272aa1ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classdwb__core_1_1TrajectoryCritic"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classdwb__core_1_1TrajectoryCritic')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classdwb__core_1_1TrajectoryCritic.html">dwb_core::TrajectoryCritic</a></td></tr>
<tr class="memitem:a57f1789a23a61ac4b099efb09e43dd4e inherit pro_attribs_classdwb__core_1_1TrajectoryCritic"><td class="memItemLeft" align="right" valign="top"><a id="a57f1789a23a61ac4b099efb09e43dd4e" name="a57f1789a23a61ac4b099efb09e43dd4e"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>name_</b></td></tr>
<tr class="separator:a57f1789a23a61ac4b099efb09e43dd4e inherit pro_attribs_classdwb__core_1_1TrajectoryCritic"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae62b2d03deb299ddd1648ddc4357b9c1 inherit pro_attribs_classdwb__core_1_1TrajectoryCritic"><td class="memItemLeft" align="right" valign="top"><a id="ae62b2d03deb299ddd1648ddc4357b9c1" name="ae62b2d03deb299ddd1648ddc4357b9c1"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>dwb_plugin_name_</b></td></tr>
<tr class="separator:ae62b2d03deb299ddd1648ddc4357b9c1 inherit pro_attribs_classdwb__core_1_1TrajectoryCritic"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12f0729fb83bb0075b675e3dd67e3544 inherit pro_attribs_classdwb__core_1_1TrajectoryCritic"><td class="memItemLeft" align="right" valign="top"><a id="a12f0729fb83bb0075b675e3dd67e3544" name="a12f0729fb83bb0075b675e3dd67e3544"></a>
std::shared_ptr&lt; <a class="el" href="classnav2__costmap__2d_1_1Costmap2DROS.html">nav2_costmap_2d::Costmap2DROS</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>costmap_ros_</b></td></tr>
<tr class="separator:a12f0729fb83bb0075b675e3dd67e3544 inherit pro_attribs_classdwb__core_1_1TrajectoryCritic"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2354066bb35712a5a7c762c37aa3988a inherit pro_attribs_classdwb__core_1_1TrajectoryCritic"><td class="memItemLeft" align="right" valign="top"><a id="a2354066bb35712a5a7c762c37aa3988a" name="a2354066bb35712a5a7c762c37aa3988a"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>scale_</b></td></tr>
<tr class="separator:a2354066bb35712a5a7c762c37aa3988a inherit pro_attribs_classdwb__core_1_1TrajectoryCritic"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f61b9ff8cc03b9e7301b7c3bd80b625 inherit pro_attribs_classdwb__core_1_1TrajectoryCritic"><td class="memItemLeft" align="right" valign="top"><a id="a8f61b9ff8cc03b9e7301b7c3bd80b625" name="a8f61b9ff8cc03b9e7301b7c3bd80b625"></a>
rclcpp_lifecycle::LifecycleNode::WeakPtr&#160;</td><td class="memItemRight" valign="bottom"><b>node_</b></td></tr>
<tr class="separator:a8f61b9ff8cc03b9e7301b7c3bd80b625 inherit pro_attribs_classdwb__core_1_1TrajectoryCritic"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classdwb__core_1_1TrajectoryCritic"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classdwb__core_1_1TrajectoryCritic')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classdwb__core_1_1TrajectoryCritic.html">dwb_core::TrajectoryCritic</a></td></tr>
<tr class="memitem:a089879d4a4f494deb96350bc1c3c3327 inherit pub_types_classdwb__core_1_1TrajectoryCritic"><td class="memItemLeft" align="right" valign="top"><a id="a089879d4a4f494deb96350bc1c3c3327" name="a089879d4a4f494deb96350bc1c3c3327"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><b>Ptr</b> = std::shared_ptr&lt; <a class="el" href="classdwb__core_1_1TrajectoryCritic.html">dwb_core::TrajectoryCritic</a> &gt;</td></tr>
<tr class="separator:a089879d4a4f494deb96350bc1c3c3327 inherit pub_types_classdwb__core_1_1TrajectoryCritic"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>breadth-first scoring of all the cells in the costmap </p>
<p>This TrajectoryCritic assigns a score to every cell in the costmap based on the distance to the cell from some set of source points. The cells corresponding with the source points are marked with some initial score, and then every other cell is updated with a score based on its relation to the closest source cell, based on a breadth-first exploration of the cells of the costmap.</p>
<p>This approach was chosen for computational efficiency, such that each trajectory need not be compared to the list of source points. </p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a12e0b17353f643bf3d92f120bd21cc53" name="a12e0b17353f643bf3d92f120bd21cc53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12e0b17353f643bf3d92f120bd21cc53">&#9670;&#160;</a></span>ScoreAggregationType</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="classdwb__critics_1_1MapGridCritic.html#a12e0b17353f643bf3d92f120bd21cc53">dwb_critics::MapGridCritic::ScoreAggregationType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Separate modes for aggregating scores across the multiple poses in a trajectory. </p>
<p>Last returns the score associated with the last pose in the trajectory Sum returns the sum of all the scores Product returns the product of all the (non-zero) scores </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a27a127aa202c0aa74bd5d7af253b7d97" name="a27a127aa202c0aa74bd5d7af253b7d97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27a127aa202c0aa74bd5d7af253b7d97">&#9670;&#160;</a></span>addCriticVisualization()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dwb_critics::MapGridCritic::addCriticVisualization </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; std::pair&lt; std::string, std::vector&lt; float &gt; &gt; &gt; &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add information to the given pointcloud for debugging costmap-grid based scores. </p>
<p>addCriticVisualization is an optional debugging mechanism for providing rich information about the cost for certain trajectories. Some critics will have scoring mechanisms wherein there will be some score for each cell in the costmap. This could be as straightforward as the cost in the costmap, or it could be the number of cells away from the goal pose.</p>
<p>Prior to calling this, dwb_core will load the PointCloud's header and the points in row-major order. The critic may then add a ChannelFloat to the channels member of the PC with the same number of values as the points array. This information may then be converted and published as a PointCloud2.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pc</td><td>PointCloud to add channels to </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classdwb__core_1_1TrajectoryCritic.html#a8b6dba2ee735fc394449547d7255a22d">dwb_core::TrajectoryCritic</a>.</p>

</div>
</div>
<a id="a775e2b988fc7c65e151598db393ced14" name="a775e2b988fc7c65e151598db393ced14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a775e2b988fc7c65e151598db393ced14">&#9670;&#160;</a></span>getScale()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double dwb_critics::MapGridCritic::getScale </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classdwb__core_1_1TrajectoryCritic.html">dwb_core::TrajectoryCritic</a>.</p>

</div>
</div>
<a id="a8a4b72849b5cfd098cc68cfd6a67ee4c" name="a8a4b72849b5cfd098cc68cfd6a67ee4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a4b72849b5cfd098cc68cfd6a67ee4c">&#9670;&#160;</a></span>getScore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double dwb_critics::MapGridCritic::getScore </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the score for a particular cell of the costmap. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>x-coordinate within the costmap </td></tr>
    <tr><td class="paramname">y</td><td>y-coordinate within the costmap </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the score associated with that cell. </dd></dl>

</div>
</div>
<a id="a5e876730c93c6c1d25928fe3aad1fc4a" name="a5e876730c93c6c1d25928fe3aad1fc4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e876730c93c6c1d25928fe3aad1fc4a">&#9670;&#160;</a></span>onInit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dwb_critics::MapGridCritic::onInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classdwb__core_1_1TrajectoryCritic.html">dwb_core::TrajectoryCritic</a>.</p>

</div>
</div>
<a id="a2557ba65b34018dcaf2c2c875e1f2fff" name="a2557ba65b34018dcaf2c2c875e1f2fff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2557ba65b34018dcaf2c2c875e1f2fff">&#9670;&#160;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dwb_critics::MapGridCritic::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clear the queuDWB_CRITICS_MAP_GRID_He and set cell_values_ to the appropriate number of unreachableCellScore. </p>

<p>Reimplemented from <a class="el" href="classdwb__core_1_1TrajectoryCritic.html#a76bf50ae6acdf57634cfd7cb089d6197">dwb_core::TrajectoryCritic</a>.</p>

</div>
</div>
<a id="a38c53edc94bd2cd1dba4dc4dc00cc976" name="a38c53edc94bd2cd1dba4dc4dc00cc976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38c53edc94bd2cd1dba4dc4dc00cc976">&#9670;&#160;</a></span>scorePose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double dwb_critics::MapGridCritic::scorePose </td>
          <td>(</td>
          <td class="paramtype">const geometry_msgs::msg::Pose2D &amp;&#160;</td>
          <td class="paramname"><em>pose</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the score for a single pose. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pose</td><td>The pose to score, assumed to be in the same frame as the costmap </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The score associated with the cell of the costmap where the pose lies </dd></dl>

<p>Reimplemented in <a class="el" href="classdwb__critics_1_1GoalAlignCritic.html#aaca7937d72883105fb9c3ea6fb37c76a">dwb_critics::GoalAlignCritic</a>, and <a class="el" href="classdwb__critics_1_1PathAlignCritic.html#aec9315d72acfd2c861a7c6456f1f8d82">dwb_critics::PathAlignCritic</a>.</p>

</div>
</div>
<a id="a06d0020c361c1d6dbcf7c91042e78c96" name="a06d0020c361c1d6dbcf7c91042e78c96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06d0020c361c1d6dbcf7c91042e78c96">&#9670;&#160;</a></span>scoreTrajectory()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double dwb_critics::MapGridCritic::scoreTrajectory </td>
          <td>(</td>
          <td class="paramtype">const dwb_msgs::msg::Trajectory2D &amp;&#160;</td>
          <td class="paramname"><em>traj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a raw score for the given trajectory. </p>
<p>scores &lt; 0 are considered invalid/errors, such as collisions This is the raw score in that the scale should not be applied to it. </p>

<p>Implements <a class="el" href="classdwb__core_1_1TrajectoryCritic.html#a32b48699795843f210b72f1dbe35efc6">dwb_core::TrajectoryCritic</a>.</p>

</div>
</div>
<a id="a5a3fb8a48ed83895a0ac1bf1fa33bd32" name="a5a3fb8a48ed83895a0ac1bf1fa33bd32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a3fb8a48ed83895a0ac1bf1fa33bd32">&#9670;&#160;</a></span>setAsObstacle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dwb_critics::MapGridCritic::setAsObstacle </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the score of a particular cell to the obstacle cost. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Index of the cell to mark </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>nav2_pkgs/nav2_dwb_controller/dwb_critics/include/dwb_critics/<a class="el" href="map__grid_8hpp_source.html">map_grid.hpp</a></li>
<li>nav2_pkgs/nav2_dwb_controller/dwb_critics/src/map_grid.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
