<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Auto OS: DWB Controller</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Auto OS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">DWB Controller </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The DWB controller is the successor to the base local planner and DWA controllers in ROS 1. It was created in ROS 1 by David Lu!! at Locus Robotics as part of the <code>robot_navigation</code> project. It was then ported to ROS 2 for use in Nav2 as its critic-based controller algorithm.</p>
<p>DWB improves on DWA in a few major ways:</p>
<ul>
<li>It implements plugin-based critics to allow users to specify new critic functions to use in the system. They can be dynamically reconfigured, reweighted, and tuned to gain very particular behavior in your robot system.</li>
<li>It implements plugin-based trajectory generation techniques, so that users can generate trajectories any number of ways and for any number of types of vehicles</li>
<li>Includes a number of plugin implementations for common use</li>
</ul>
<p>It is possible to tune DWB to gain both DWA and base local planner behaviors, as well as expansions using new plugins for totally use-case specific behaviors. The current trajectory generator plugins work for omnidirectional and differential drive robots, though an ackermann generator would be trivial to add. The current critic plugins work for both circular and non-circular robots and include many of the cost functions needed to build a path tracking system with various attributes.</p>
<p>See its <a href="https://docs.nav2.org/configuration/packages/configuring-dwb-controller.html">Configuration Guide Page</a> for additional parameter descriptions.</p>
<h1><a class="anchor" id="autotoc_md124"></a>
DWB Plugins</h1>
<p>DWB is highly configurable through the use of plugins. There are three types of plugins used. For each of them, a few implementations are available but you can create custom ones if you need to.</p>
<h2><a class="anchor" id="autotoc_md125"></a>
Trajectory Generator Plugins</h2>
<p>These plugins generate the set of possible trajectories that should be evaluated by the critics. The trajectory with the best score determines the output command velocity.</p>
<p>There are two trajectory generators provided with Navigation 2. Only one can be loaded at a time.</p>
<ul>
<li><b>StandardTrajectoryGenerator</b> - This is similar to the trajectory rollout algorithm used in base_local_planner in ROS 1.</li>
<li><b>LimitedAccelGenerator</b> - This is similar to DWA used in ROS 1.</li>
</ul>
<h2><a class="anchor" id="autotoc_md126"></a>
Critic Plugins</h2>
<p>These plugins score the trajectories generated by the trajectory generator. Multiple plugins can be loaded and the sum of their scores determines the chosen command velocity.</p>
<ul>
<li><b>BaseObstacle</b> - Scores a trajectory based on where the path passes over the costmap. To use this properly, you must use the inflation layer in costmap to expand obstacles by the robot's radius.</li>
<li><b>ObstacleFootprint</b> - Scores a trajectory based on verifying all points along the robot's footprint don't touch an obstacle marked in the costmap.</li>
<li><b>GoalAlign</b> - Scores a trajectory based on how well aligned the trajectory is with the goal pose.</li>
<li><b>GoalDist</b> - Scores a trajectory based on how close the trajectory gets the robot to the goal pose.</li>
<li><b>PathAlign</b> - Scores a trajectory based on how well it is aligned to the path provided by the global planner.</li>
<li><b>PathDist</b> - Scores a trajectory based on how far it ends up from the path provided by the global planner.</li>
<li><b>PreferForward</b> - Scores trajectories that move the robot forwards more highly</li>
<li><b>RotateToGoal</b> - Only allows the robot to rotate to the goal orientation when it is sufficiently close to the goal location</li>
<li><b>Oscillation</b> - Prevents the robot from just moving backwards and forwards.</li>
<li><b>Twirling</b> - Prevents holonomic robots from spinning as they make their way to the goal. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
