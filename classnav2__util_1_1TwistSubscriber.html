<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Auto OS: nav2_util::TwistSubscriber Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Auto OS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>nav2_util</b></li><li class="navelem"><a class="el" href="classnav2__util_1_1TwistSubscriber.html">TwistSubscriber</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classnav2__util_1_1TwistSubscriber-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">nav2_util::TwistSubscriber Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classA.html">A</a> simple wrapper on a Twist subscriber that receives either geometry_msgs::msg::TwistStamped or geometry_msgs::msg::Twist.  
 <a href="classnav2__util_1_1TwistSubscriber.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="twist__subscriber_8hpp_source.html">twist_subscriber.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0fe5a9d57f49af24de12eb1f50a94b0a"><td class="memTemplParams" colspan="2">template&lt;typename TwistCallbackT , typename TwistStampedCallbackT &gt; </td></tr>
<tr class="memitem:a0fe5a9d57f49af24de12eb1f50a94b0a"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classnav2__util_1_1TwistSubscriber.html#a0fe5a9d57f49af24de12eb1f50a94b0a">TwistSubscriber</a> (nav2_util::LifecycleNode::SharedPtr node, const std::string &amp;topic, const rclcpp::QoS &amp;qos, TwistCallbackT &amp;&amp;TwistCallback, TwistStampedCallbackT &amp;&amp;TwistStampedCallback)</td></tr>
<tr class="memdesc:a0fe5a9d57f49af24de12eb1f50a94b0a"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classA.html">A</a> constructor that supports either Twist and TwistStamped.  <br /></td></tr>
<tr class="separator:a0fe5a9d57f49af24de12eb1f50a94b0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11d9aa7a6479fe02b8659e6ba2b6a22c"><td class="memTemplParams" colspan="2">template&lt;typename TwistStampedCallbackT &gt; </td></tr>
<tr class="memitem:a11d9aa7a6479fe02b8659e6ba2b6a22c"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classnav2__util_1_1TwistSubscriber.html#a11d9aa7a6479fe02b8659e6ba2b6a22c">TwistSubscriber</a> (nav2_util::LifecycleNode::SharedPtr node, const std::string &amp;topic, const rclcpp::QoS &amp;qos, TwistStampedCallbackT &amp;&amp;TwistStampedCallback)</td></tr>
<tr class="memdesc:a11d9aa7a6479fe02b8659e6ba2b6a22c"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classA.html">A</a> constructor that only supports TwistStamped.  <br /></td></tr>
<tr class="separator:a11d9aa7a6479fe02b8659e6ba2b6a22c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a659539ba06ed436a46fb2c73cafd310d"><td class="memItemLeft" align="right" valign="top"><a id="a659539ba06ed436a46fb2c73cafd310d" name="a659539ba06ed436a46fb2c73cafd310d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>is_stamped_</b> {false}</td></tr>
<tr class="memdesc:a659539ba06ed436a46fb2c73cafd310d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The user-configured value for ROS parameter enable_stamped_cmd_vel. <br /></td></tr>
<tr class="separator:a659539ba06ed436a46fb2c73cafd310d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2212c0e6604c0774a3f9e904f977ad6a"><td class="memItemLeft" align="right" valign="top"><a id="a2212c0e6604c0774a3f9e904f977ad6a" name="a2212c0e6604c0774a3f9e904f977ad6a"></a>
rclcpp::Subscription&lt; geometry_msgs::msg::Twist &gt;::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><b>twist_sub_</b> {nullptr}</td></tr>
<tr class="memdesc:a2212c0e6604c0774a3f9e904f977ad6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The subscription when using Twist. <br /></td></tr>
<tr class="separator:a2212c0e6604c0774a3f9e904f977ad6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac60b5d3f2fb35642b142f81021808fb"><td class="memItemLeft" align="right" valign="top"><a id="aac60b5d3f2fb35642b142f81021808fb" name="aac60b5d3f2fb35642b142f81021808fb"></a>
rclcpp::Subscription&lt; geometry_msgs::msg::TwistStamped &gt;::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><b>twist_stamped_sub_</b> {nullptr}</td></tr>
<tr class="memdesc:aac60b5d3f2fb35642b142f81021808fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The subscription when using TwistStamped. <br /></td></tr>
<tr class="separator:aac60b5d3f2fb35642b142f81021808fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classA.html">A</a> simple wrapper on a Twist subscriber that receives either geometry_msgs::msg::TwistStamped or geometry_msgs::msg::Twist. </p>
<dl class="section note"><dt>Note</dt><dd>Usage: The default behavior is to subscribe to Twist, which preserves backwards compatibility with ROS distributions up to Iron. The behavior can be overridden using the "enable_stamped_cmd_vel" parameter. By setting that to "True", the <a class="el" href="classnav2__util_1_1TwistSubscriber.html" title="A simple wrapper on a Twist subscriber that receives either geometry_msgs::msg::TwistStamped or geome...">TwistSubscriber</a> class would subscribe to TwistStamped.</dd>
<dd>
Why use Twist Stamped over Twist? Twist has been used widely in many ROS applications, typically for body-frame velocity control, and between ROS nodes on the same computer. Many ROS interfaces are moving to using TwistStamped because it is more robust for stale data protection. This protection is especially important when sending velocity control over lossy communication links. An example application where this matters is a drone with a Linux computer running a ROS controller that sends Twist commands to an embedded autopilot. If the autopilot failed to recognize a highly latent connection, it could result in instability or a crash because of the decreased phase margin for control. TwistStamped also has a frame ID, allowing explicit control for multiple frames, rather than relying on an assumption of body-frame control or having to create a different topic. Adding a header is low-cost for most ROS applications; the header can be set to an empty string if bandwidth is of concern.</dd>
<dd>
Implementation Design Notes: Compared to the naive approach of setting up one subscriber for each message type, only one subscriber is created at a time; the other is nullptr. This reduces RAM usage and ROS discovery traffic. This approach allows NAV2 libraries to be flexible in which Twist message they support, while maintaining a stable API in a ROS distribution. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a0fe5a9d57f49af24de12eb1f50a94b0a" name="a0fe5a9d57f49af24de12eb1f50a94b0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fe5a9d57f49af24de12eb1f50a94b0a">&#9670;&#160;</a></span>TwistSubscriber() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TwistCallbackT , typename TwistStampedCallbackT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nav2_util::TwistSubscriber::TwistSubscriber </td>
          <td>(</td>
          <td class="paramtype">nav2_util::LifecycleNode::SharedPtr&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const rclcpp::QoS &amp;&#160;</td>
          <td class="paramname"><em>qos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TwistCallbackT &amp;&amp;&#160;</td>
          <td class="paramname"><em>TwistCallback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TwistStampedCallbackT &amp;&amp;&#160;</td>
          <td class="paramname"><em>TwistStampedCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classA.html">A</a> constructor that supports either Twist and TwistStamped. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>The node to add the Twist subscriber to </td></tr>
    <tr><td class="paramname">topic</td><td>The subscriber topic name </td></tr>
    <tr><td class="paramname">qos</td><td>The subscriber quality of service </td></tr>
    <tr><td class="paramname">TwistCallback</td><td>The subscriber callback for Twist messages </td></tr>
    <tr><td class="paramname">TwistStampedCallback</td><td>The subscriber callback for TwistStamped messages </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a11d9aa7a6479fe02b8659e6ba2b6a22c" name="a11d9aa7a6479fe02b8659e6ba2b6a22c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11d9aa7a6479fe02b8659e6ba2b6a22c">&#9670;&#160;</a></span>TwistSubscriber() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename TwistStampedCallbackT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nav2_util::TwistSubscriber::TwistSubscriber </td>
          <td>(</td>
          <td class="paramtype">nav2_util::LifecycleNode::SharedPtr&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>topic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const rclcpp::QoS &amp;&#160;</td>
          <td class="paramname"><em>qos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TwistStampedCallbackT &amp;&amp;&#160;</td>
          <td class="paramname"><em>TwistStampedCallback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classA.html">A</a> constructor that only supports TwistStamped. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>The node to add the TwistStamped subscriber to </td></tr>
    <tr><td class="paramname">topic</td><td>The subscriber topic name </td></tr>
    <tr><td class="paramname">qos</td><td>The subscriber quality of service </td></tr>
    <tr><td class="paramname">TwistStampedCallback</td><td>The subscriber callback for TwistStamped messages </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::invalid_argument</td><td>When configured with an invalid ROS parameter </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>nav2_pkgs/nav2_util/include/nav2_util/<a class="el" href="twist__subscriber_8hpp_source.html">twist_subscriber.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
